<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基础 | ゼロツー</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/favicon.jpg">
    <meta name="description" content="zerotwo">
    <link rel="preload" href="/assets/css/0.styles.f0b7ee7d.css" as="style"><link rel="preload" href="/assets/js/app.484f4375.js" as="script"><link rel="preload" href="/assets/js/2.ebbe98b4.js" as="script"><link rel="preload" href="/assets/js/86.dff86ecd.js" as="script"><link rel="prefetch" href="/assets/js/10.91de1805.js"><link rel="prefetch" href="/assets/js/100.1772503e.js"><link rel="prefetch" href="/assets/js/101.b569a1af.js"><link rel="prefetch" href="/assets/js/102.65dffa11.js"><link rel="prefetch" href="/assets/js/103.d7a8cd9e.js"><link rel="prefetch" href="/assets/js/104.0a0e3708.js"><link rel="prefetch" href="/assets/js/105.15bc167a.js"><link rel="prefetch" href="/assets/js/106.8487cf9a.js"><link rel="prefetch" href="/assets/js/107.2310b94b.js"><link rel="prefetch" href="/assets/js/108.781b7ebe.js"><link rel="prefetch" href="/assets/js/109.6225704a.js"><link rel="prefetch" href="/assets/js/11.9c44c6b2.js"><link rel="prefetch" href="/assets/js/110.3c39cb3c.js"><link rel="prefetch" href="/assets/js/111.22bede53.js"><link rel="prefetch" href="/assets/js/112.acb6b722.js"><link rel="prefetch" href="/assets/js/113.c2b6115e.js"><link rel="prefetch" href="/assets/js/114.cbeddf77.js"><link rel="prefetch" href="/assets/js/115.adf2d1b9.js"><link rel="prefetch" href="/assets/js/116.3f23eb5b.js"><link rel="prefetch" href="/assets/js/117.00cb8ac3.js"><link rel="prefetch" href="/assets/js/118.e88e1cfb.js"><link rel="prefetch" href="/assets/js/119.213aaa9b.js"><link rel="prefetch" href="/assets/js/12.878aa51b.js"><link rel="prefetch" href="/assets/js/120.fc12eb0e.js"><link rel="prefetch" href="/assets/js/121.67bafb52.js"><link rel="prefetch" href="/assets/js/122.cca49856.js"><link rel="prefetch" href="/assets/js/123.0e27eb9e.js"><link rel="prefetch" href="/assets/js/124.53383547.js"><link rel="prefetch" href="/assets/js/125.e103d7f1.js"><link rel="prefetch" href="/assets/js/126.adb34a41.js"><link rel="prefetch" href="/assets/js/127.f352dcec.js"><link rel="prefetch" href="/assets/js/128.9aa22460.js"><link rel="prefetch" href="/assets/js/129.02dabe8a.js"><link rel="prefetch" href="/assets/js/13.b4c5b1dd.js"><link rel="prefetch" href="/assets/js/130.7d88cb43.js"><link rel="prefetch" href="/assets/js/14.dce5d003.js"><link rel="prefetch" href="/assets/js/15.ec0f3b1f.js"><link rel="prefetch" href="/assets/js/16.a9597b38.js"><link rel="prefetch" href="/assets/js/17.c8f44f51.js"><link rel="prefetch" href="/assets/js/18.67e67934.js"><link rel="prefetch" href="/assets/js/19.2b8ea36f.js"><link rel="prefetch" href="/assets/js/20.ee5ab76e.js"><link rel="prefetch" href="/assets/js/21.1582f8ed.js"><link rel="prefetch" href="/assets/js/22.130fb5fa.js"><link rel="prefetch" href="/assets/js/23.ecbb4b5d.js"><link rel="prefetch" href="/assets/js/24.0c8b3ecd.js"><link rel="prefetch" href="/assets/js/25.4aae22ea.js"><link rel="prefetch" href="/assets/js/26.4816aa3d.js"><link rel="prefetch" href="/assets/js/27.2e6f0659.js"><link rel="prefetch" href="/assets/js/28.7e0fef24.js"><link rel="prefetch" href="/assets/js/29.dad88d85.js"><link rel="prefetch" href="/assets/js/3.5e8d6a69.js"><link rel="prefetch" href="/assets/js/30.1ecf79ca.js"><link rel="prefetch" href="/assets/js/31.0a97fafc.js"><link rel="prefetch" href="/assets/js/32.8e6151d1.js"><link rel="prefetch" href="/assets/js/33.b5ff95d1.js"><link rel="prefetch" href="/assets/js/34.0d03faf5.js"><link rel="prefetch" href="/assets/js/35.6d4b4665.js"><link rel="prefetch" href="/assets/js/36.b42cbedf.js"><link rel="prefetch" href="/assets/js/37.4de10dce.js"><link rel="prefetch" href="/assets/js/38.9031eb30.js"><link rel="prefetch" href="/assets/js/39.daee868f.js"><link rel="prefetch" href="/assets/js/4.ceb8a314.js"><link rel="prefetch" href="/assets/js/40.df374a26.js"><link rel="prefetch" href="/assets/js/41.563436c6.js"><link rel="prefetch" href="/assets/js/42.b9200ca4.js"><link rel="prefetch" href="/assets/js/43.40ae12a3.js"><link rel="prefetch" href="/assets/js/44.4a0dd48e.js"><link rel="prefetch" href="/assets/js/45.20d657cc.js"><link rel="prefetch" href="/assets/js/46.2d34fe10.js"><link rel="prefetch" href="/assets/js/47.3dcb2d38.js"><link rel="prefetch" href="/assets/js/48.1b0959df.js"><link rel="prefetch" href="/assets/js/49.6652f2b2.js"><link rel="prefetch" href="/assets/js/5.b28c76e0.js"><link rel="prefetch" href="/assets/js/50.30bdc802.js"><link rel="prefetch" href="/assets/js/51.ebe5930a.js"><link rel="prefetch" href="/assets/js/52.02f2caf4.js"><link rel="prefetch" href="/assets/js/53.55df3fc5.js"><link rel="prefetch" href="/assets/js/54.e2bff3b5.js"><link rel="prefetch" href="/assets/js/55.c859c458.js"><link rel="prefetch" href="/assets/js/56.d493a61b.js"><link rel="prefetch" href="/assets/js/57.9af46dbf.js"><link rel="prefetch" href="/assets/js/58.46d4e8aa.js"><link rel="prefetch" href="/assets/js/59.82e453fe.js"><link rel="prefetch" href="/assets/js/6.b43fc5c2.js"><link rel="prefetch" href="/assets/js/60.d9652552.js"><link rel="prefetch" href="/assets/js/61.bad1d82a.js"><link rel="prefetch" href="/assets/js/62.8c307334.js"><link rel="prefetch" href="/assets/js/63.7ebafb7e.js"><link rel="prefetch" href="/assets/js/64.bc588101.js"><link rel="prefetch" href="/assets/js/65.6f66d6a2.js"><link rel="prefetch" href="/assets/js/66.ee6f0d41.js"><link rel="prefetch" href="/assets/js/67.0002a9a5.js"><link rel="prefetch" href="/assets/js/68.4a86ea26.js"><link rel="prefetch" href="/assets/js/69.c9e36070.js"><link rel="prefetch" href="/assets/js/7.87b3f924.js"><link rel="prefetch" href="/assets/js/70.40af8c94.js"><link rel="prefetch" href="/assets/js/71.ee207bd6.js"><link rel="prefetch" href="/assets/js/72.c389068e.js"><link rel="prefetch" href="/assets/js/73.c1526d9c.js"><link rel="prefetch" href="/assets/js/74.cd1c9d32.js"><link rel="prefetch" href="/assets/js/75.144c1f5b.js"><link rel="prefetch" href="/assets/js/76.4c36bfbf.js"><link rel="prefetch" href="/assets/js/77.7db5b3f1.js"><link rel="prefetch" href="/assets/js/78.de99e748.js"><link rel="prefetch" href="/assets/js/79.1febcdca.js"><link rel="prefetch" href="/assets/js/8.ab13bda4.js"><link rel="prefetch" href="/assets/js/80.e802c8bb.js"><link rel="prefetch" href="/assets/js/81.960e4a52.js"><link rel="prefetch" href="/assets/js/82.9a35963d.js"><link rel="prefetch" href="/assets/js/83.005e1aad.js"><link rel="prefetch" href="/assets/js/84.d61f7f01.js"><link rel="prefetch" href="/assets/js/85.0906b75c.js"><link rel="prefetch" href="/assets/js/87.00755e79.js"><link rel="prefetch" href="/assets/js/88.00604a67.js"><link rel="prefetch" href="/assets/js/89.376832c9.js"><link rel="prefetch" href="/assets/js/9.b83e9e02.js"><link rel="prefetch" href="/assets/js/90.9be39541.js"><link rel="prefetch" href="/assets/js/91.d5eb29c9.js"><link rel="prefetch" href="/assets/js/92.9f5fba68.js"><link rel="prefetch" href="/assets/js/93.670dcf5c.js"><link rel="prefetch" href="/assets/js/94.9d783387.js"><link rel="prefetch" href="/assets/js/95.0fd08cc1.js"><link rel="prefetch" href="/assets/js/96.ae0eb4f1.js"><link rel="prefetch" href="/assets/js/97.1d15ea38.js"><link rel="prefetch" href="/assets/js/98.1bc97ef6.js"><link rel="prefetch" href="/assets/js/99.d91a7a9f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f0b7ee7d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="./favicon.jpg" alt="ゼロツー" class="logo"> <span class="site-name can-hide">ゼロツー</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/js/" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontend/html/" class="nav-link">
  HTML
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><span class="title">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">
  VUE
</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/frontend/miniProgram/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/frontend/mobile/" class="nav-link router-link-active">
  移动端
</a></li><li class="dropdown-item"><!----> <a href="/frontend/ts/" class="nav-link">
  TS
</a></li><li class="dropdown-item"><!----> <a href="/frontend/node/" class="nav-link">
  NODE
</a></li><li class="dropdown-item"><!----> <a href="/frontend/native/" class="nav-link">
  原生开发
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其余" class="dropdown-title"><span class="title">其余</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/computerNetwork/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/frontend/browser/" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/frontend/performance/" class="nav-link">
  性能
</a></li><li class="dropdown-item"><!----> <a href="/frontend/safety/" class="nav-link">
  安全
</a></li><li class="dropdown-item"><!----> <a href="/frontend/axios/" class="nav-link">
  axios
</a></li><li class="dropdown-item"><!----> <a href="/frontend/API/" class="nav-link">
  api
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="代码" class="dropdown-title"><span class="title">代码</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/code/" class="nav-link">
  手写源码
</a></li><li class="dropdown-item"><!----> <a href="/frontend/algorithm/" class="nav-link">
  编码和算法
</a></li><li class="dropdown-item"><!----> <a href="/frontend/leetcode/" class="nav-link">
  leetcode
</a></li></ul></div></div><div class="nav-item"><a href="/frontend/others/" class="nav-link">
  开发
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Note" class="dropdown-title"><span class="title">Note</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/" class="nav-link">
  os
</a></li><li class="dropdown-item"><!----> <a href="/markdown/" class="nav-link">
  md
</a></li><li class="dropdown-item"><!----> <a href="/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/linux/" class="nav-link">
  linux
</a></li><li class="dropdown-item"><!----> <a href="/view/" class="nav-link">
  view
</a></li><li class="dropdown-item"><!----> <a href="/server/" class="nav-link">
  server
</a></li><li class="dropdown-item"><!----> <a href="/guide/" class="nav-link">
  guide
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/js/" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontend/html/" class="nav-link">
  HTML
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><span class="title">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">
  VUE
</a></li><li class="dropdown-item"><!----> <a href="/frontend/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/frontend/miniProgram/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/frontend/mobile/" class="nav-link router-link-active">
  移动端
</a></li><li class="dropdown-item"><!----> <a href="/frontend/ts/" class="nav-link">
  TS
</a></li><li class="dropdown-item"><!----> <a href="/frontend/node/" class="nav-link">
  NODE
</a></li><li class="dropdown-item"><!----> <a href="/frontend/native/" class="nav-link">
  原生开发
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其余" class="dropdown-title"><span class="title">其余</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/computerNetwork/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/frontend/browser/" class="nav-link">
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/frontend/performance/" class="nav-link">
  性能
</a></li><li class="dropdown-item"><!----> <a href="/frontend/safety/" class="nav-link">
  安全
</a></li><li class="dropdown-item"><!----> <a href="/frontend/axios/" class="nav-link">
  axios
</a></li><li class="dropdown-item"><!----> <a href="/frontend/API/" class="nav-link">
  api
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="代码" class="dropdown-title"><span class="title">代码</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/code/" class="nav-link">
  手写源码
</a></li><li class="dropdown-item"><!----> <a href="/frontend/algorithm/" class="nav-link">
  编码和算法
</a></li><li class="dropdown-item"><!----> <a href="/frontend/leetcode/" class="nav-link">
  leetcode
</a></li></ul></div></div><div class="nav-item"><a href="/frontend/others/" class="nav-link">
  开发
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Note" class="dropdown-title"><span class="title">Note</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/" class="nav-link">
  os
</a></li><li class="dropdown-item"><!----> <a href="/markdown/" class="nav-link">
  md
</a></li><li class="dropdown-item"><!----> <a href="/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/linux/" class="nav-link">
  linux
</a></li><li class="dropdown-item"><!----> <a href="/view/" class="nav-link">
  view
</a></li><li class="dropdown-item"><!----> <a href="/server/" class="nav-link">
  server
</a></li><li class="dropdown-item"><!----> <a href="/guide/" class="nav-link">
  guide
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>mobile</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend/mobile/" aria-current="page" class="sidebar-link">首页</a></li><li><a href="/frontend/mobile/mobile.html" aria-current="page" class="active sidebar-link">基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#微信、手机第三方扫码登录" class="sidebar-link">微信、手机第三方扫码登录</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#网页版，app扫码登录" class="sidebar-link">网页版，app扫码登录⭐️</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#解决白屏的方法" class="sidebar-link">解决白屏的方法</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#rem布局" class="sidebar-link">rem布局</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#vh、vw" class="sidebar-link">vh、vw</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#移动端响应式布局有哪些方法" class="sidebar-link">移动端响应式布局有哪些方法</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#移动端布局的解决方案，平时怎么做的处理" class="sidebar-link">移动端布局的解决方案，平时怎么做的处理</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#_1px" class="sidebar-link">1px⭐️</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#移动端怎么实现font-size-10px" class="sidebar-link">移动端怎么实现font-size:10px</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#点击延迟，穿透、滚动不流畅" class="sidebar-link">点击延迟，穿透、滚动不流畅</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#click事件在移动端有延迟，延迟多少，为什么会出现这个问题" class="sidebar-link">click事件在移动端有延迟，延迟多少，为什么会出现这个问题</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#h5动画" class="sidebar-link">H5动画</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#如何识别不同移动端" class="sidebar-link">如何识别不同移动端</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#加载" class="sidebar-link">加载</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#渲染性能" class="sidebar-link">渲染性能</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#移动端如何优化首页白屏时间过长" class="sidebar-link">移动端如何优化首页白屏时间过长 ?</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#元素太多的时候，节流函数对触发滚屏的事件没反应，怎么改善" class="sidebar-link">元素太多的时候，节流函数对触发滚屏的事件没反应，怎么改善</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#h5页面中-消息弹框文字过多会造成什么问题，解决办法是什么" class="sidebar-link">h5页面中 消息弹框文字过多会造成什么问题，解决办法是什么</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#hybrid" class="sidebar-link">Hybrid</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#webview" class="sidebar-link">WebView</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#如何与native进行数据交互，jsbridge实现原理" class="sidebar-link">如何与native进行数据交互，jsbridge实现原理</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#移动端如何实现下拉到底部跟随移动-结束后回弹的动画" class="sidebar-link">移动端如何实现下拉到底部跟随移动,结束后回弹的动画?⭐️</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#手写监听页面刷新" class="sidebar-link">手写监听页面刷新</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#判断竖屏横屏" class="sidebar-link">判断竖屏横屏</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#图片放大镜功能怎么做的" class="sidebar-link">图片放大镜功能怎么做的</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#安卓和ios的区别" class="sidebar-link">安卓和ios的区别</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#pc端开发和移动端开发的区别？" class="sidebar-link">pc端开发和移动端开发的区别？</a></li><li class="sidebar-sub-header"><a href="/frontend/mobile/mobile.html#serverless" class="sidebar-link">serverless</a></li></ul></li><li><a href="/frontend/mobile/pwa.html" class="sidebar-link">PWA</a></li><li><a href="/frontend/mobile/skeleton.html" class="sidebar-link">骨架屏</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="待填坑"><a href="#待填坑" class="header-anchor">#</a> 待填坑</h1> <h2 id="微信、手机第三方扫码登录"><a href="#微信、手机第三方扫码登录" class="header-anchor">#</a> 微信、手机第三方扫码登录</h2> <h2 id="网页版，app扫码登录"><a href="#网页版，app扫码登录" class="header-anchor">#</a> 网页版，app扫码登录⭐️</h2> <ol><li><p>网页端与服务器的配合逻辑：</p> <p>首先用户打开网站的登录页面的时候，向浏览器的服务器发送获取登录二维码的请求。服务器收到请求后，随机生成一个uuid，将这个id作为key值存入redis服务器，同时设置一个过期时间，再过期后，用户登录二维码需要进行刷新重新获取。</p> <p>同时，将这个key值和本公司的验证字符串合在一起，通过二维码生成接口，生成一个二维码的图片。然后，将二维码图片和uuid一起返回给用户浏览器。</p> <p>浏览器拿到二维码和uuid后，会每隔一秒向服务器发送一次，登录是否成功的请求。请求中携带有uuid作为当前页面的标识符。</p> <blockquote><p>这里会有用户的id信息，这个id信息是由手机服务器存入redis中的。</p></blockquote></li> <li><p>手机端与服务器的配合逻辑：</p> <p>浏览器拿到二维码后，将二维码展示到网页上，并给用户一个提示：打开扫一扫进行登录。</p> <p>用户拿出手机扫描二维码，就可以得到一个验证信息和一个uuid。</p> <p>由于手机端已经进行过了登录，在访问手机端的服务器的时候，参数中都会携带一个用户的token，手机端服务器可以从中解析到用户的userId（这里从token中取值而不是手机端直接传userId是为了安全，直接传userId可能会被截获和修改，token是加密的，被修改的风险会小很多）。手机端将解析到的数据和用户token一起作为参数，向服务器发送验证登录请求（这里的服务器是手机服务器，手机端的服务器跟网页端服务器不是同一台服务器）。</p> <p>服务器收到请求后，首先对比参数中的验证信息，确定是否为用户登录请求接口。如果是，返回一个确认信息给手机端。</p> <p>手机端收到返回后，将登录确认框显示给用户（防止用户误操作，同时使登录更加人性化）。用户确认是进行的登录操作后，手机再次发送请求。服务器拿到uuId和userId后，将用户的userId作为value值存入redis中以uuid作为key的键值对中。</p></li> <li><p>登录成功时的逻辑：</p> <p>然后，浏览器再次发送请求的时候，浏览器端的服务器就可以得到一个用户Id，并调用登录的方法，生成一个浏览器端的token，再浏览器再次发送请求的时候，将用户信息返回给浏览器，登录成功。这里存储用户id而不是直接存储用户信息是因为，手机端的用户信息，不一定是和浏览器端的用户信息完全一致。</p></li></ol> <p><img src="/img/640.webp.jpg" alt="整体逻辑"></p> <h3 id="怎么保证用户登录信息安全"><a href="#怎么保证用户登录信息安全" class="header-anchor">#</a> 怎么保证用户登录信息安全</h3> <h2 id="解决白屏的方法"><a href="#解决白屏的方法" class="header-anchor">#</a> 解决白屏的方法</h2> <ul><li><p>预渲染:</p> <p>启动一个浏览器，生成html，加载这个页面的时候先显示再进行替换。</p> <p>缺陷：如果数据非常实时，比如新闻列表，替换页面之前数据可能还是昨天的。比较适合静态页面</p></li> <li><p>服务端渲染(SSR)：</p> <p>是通过服务端获取最新数据渲染的，像做一些博客，新闻类的都可以使用服务器端渲染</p> <p>它会占用很多服务器内存，</p></li></ul> <h3 id="first-paint-和-dom-ready-的关系"><a href="#first-paint-和-dom-ready-的关系" class="header-anchor">#</a> first paint 和 DOM ready 的关系</h3> <p>先触发 first paint，再触发 DOM ready</p> <p>白屏时间（first Paint Time），用户从打开页面开始到页面开始有东西呈现为止</p> <p>首屏时间，用户浏览器首屏内所有内容都呈现出来所花费的时间</p> <p>用户可操作时间（dom Interactive），用户可以进行正常的点击、输入等操作</p> <p>总下载时间，页面所有资源都加载完成并呈现出来所花的时间，即页面 onload 的时间</p> <h2 id="rem布局"><a href="#rem布局" class="header-anchor">#</a> rem布局</h2> <p>rem布局的本质是等比缩放，一般是基于宽度</p> <h3 id="原理和使用"><a href="#原理和使用" class="header-anchor">#</a> 原理和使用</h3> <h3 id="缺陷"><a href="#缺陷" class="header-anchor">#</a> 缺陷</h3> <h3 id="根元素的font-size属性不一致会有什么问题"><a href="#根元素的font-size属性不一致会有什么问题" class="header-anchor">#</a> 根元素的font-size属性不一致会有什么问题</h3> <h2 id="vh、vw"><a href="#vh、vw" class="header-anchor">#</a> vh、vw</h2> <h2 id="移动端响应式布局有哪些方法"><a href="#移动端响应式布局有哪些方法" class="header-anchor">#</a> 移动端响应式布局有哪些方法</h2> <h2 id="移动端布局的解决方案，平时怎么做的处理"><a href="#移动端布局的解决方案，平时怎么做的处理" class="header-anchor">#</a> 移动端布局的解决方案，平时怎么做的处理</h2> <h2 id="_1px"><a href="#_1px" class="header-anchor">#</a> 1px⭐️</h2> <p>移动端 1px 的问题，就是在 pc 的浏览器上设置的 1px 的边框，在移动端的浏览器上看上去会“更粗” 一些。</p> <div class="custom-block warning"><p class="custom-block-title">PS</p> <p>Window 接口的<code>devicePixelRatio</code>返回当前显示设备的物理像素分辨率与CSS像素分辨率之比。 此值也可以解释为像素大小的比率：一个CSS像素的大小与一个物理像素的大小。 简单来说，它告诉浏览器应使用多少屏幕实际像素来绘制单个CSS像素。</p> <p>在 iPhone6 中，物理像素是 1334 x 750，设备无关像素是 667 x 375，那么 iPhone6 的 dpr 就是2。代表着：2个物理像素对应一个逻辑像素（水平方向 or 垂直方向）。在平面内也就是 4个物理像素对应1个逻辑像素。用来解释不同手机呈现页面的精细度的差异程度</p> <p><code>&lt;canvas&gt;</code>可能在视网膜屏幕上显得太模糊。 使用<code>window.devicePixelRatio</code>确定应添加多少额外的像素密度以使图像更清晰。</p></div> <h3 id="viewport-rem"><a href="#viewport-rem" class="header-anchor">#</a> viewport + rem</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>1px question<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/html;charset=UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>WebViewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>        
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
          <span class="token selector">html</span> <span class="token punctuation">{</span>
              <span class="token property">font-size</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>            
          <span class="token selector">*</span> <span class="token punctuation">{</span>
              <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
              <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token selector">.top_b</span> <span class="token punctuation">{</span>
              <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #E5E5E5<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token selector">.a,.b</span> <span class="token punctuation">{</span>
                      <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
              <span class="token property">margin-top</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
              <span class="token property">padding</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>                
              <span class="token property">font-size</span><span class="token punctuation">:</span> 1.4rem<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token selector">.a</span> <span class="token punctuation">{</span>
              <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token selector">.b</span> <span class="token punctuation">{</span>
              <span class="token property">background</span><span class="token punctuation">:</span> #f5f5f5<span class="token punctuation">;</span>
              <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
      </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
          <span class="token keyword">var</span> viewport <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;meta[name=viewport]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">//下面是根据设备像素设置viewport</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>devicePixelRatio <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              viewport<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">,</span> <span class="token string">'width=device-width,initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>devicePixelRatio <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              viewport<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">,</span> <span class="token string">'width=device-width,initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>devicePixelRatio <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              viewport<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">,</span> <span class="token string">'width=device-width,initial-scale=0.3333333333333333, maximum-scale=0.3333333333333333, minimum-scale=0.3333333333333333, user-scalable=no'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">var</span> docEl <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
          <span class="token keyword">var</span> fontsize <span class="token operator">=</span> <span class="token number">32</span><span class="token operator">*</span> <span class="token punctuation">(</span>docEl<span class="token punctuation">.</span>clientWidth <span class="token operator">/</span> <span class="token number">750</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
          docEl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> fontsize<span class="token punctuation">;</span>
      </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>top_b a<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>下面的底边宽度是虚拟1像素的<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>b<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>上面的边框宽度是虚拟1像素的<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="伪元素-transform"><a href="#伪元素-transform" class="header-anchor">#</a> 伪元素 + transform</h3> <p>单边</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.setOnePx</span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token comment">/*不是一般css写法，&amp;其实就是setOnePx*/</span>
  <span class="token selector">&amp;::after</span><span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #e5e5e5<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span> 
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1<span class="token punctuation">,</span> 0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>将伪元素设置绝对定位，并且和父元素的左上角对齐，将width 设置100%，height设置为1px，然后进行在Y方向缩小0.5倍。</p> <p>全部4条边</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.setBorderAll</span><span class="token punctuation">{</span>
     <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token selector">;
       &amp;:after</span><span class="token punctuation">{</span>
           <span class="token property">content</span><span class="token punctuation">:</span><span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
           <span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span>
           <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
           <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
           <span class="token property">width</span><span class="token punctuation">:</span> 200%<span class="token punctuation">;</span>
           <span class="token property">height</span><span class="token punctuation">:</span> 200%<span class="token punctuation">;</span>
           <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token property">transform-origin</span><span class="token punctuation">:</span> left top<span class="token punctuation">;</span>
           <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
           <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #E5E5E5<span class="token punctuation">;</span>
           <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

</code></pre></div><p>同样为伪元素设置绝对定位，并且和父元素左上角对齐。将伪元素的长和宽先放大2倍，然后再设置一个边框，以左上角为中心，缩放到原来的0.5倍</p> <h3 id="_0-5px"><a href="#_0-5px" class="header-anchor">#</a> 0.5px</h3> <h3 id="dpi"><a href="#dpi" class="header-anchor">#</a> dpi</h3> <h2 id="移动端怎么实现font-size-10px"><a href="#移动端怎么实现font-size-10px" class="header-anchor">#</a> 移动端怎么实现font-size:10px</h2> <h2 id="点击延迟，穿透、滚动不流畅"><a href="#点击延迟，穿透、滚动不流畅" class="header-anchor">#</a> 点击延迟，穿透、滚动不流畅</h2> <h2 id="click事件在移动端有延迟，延迟多少，为什么会出现这个问题"><a href="#click事件在移动端有延迟，延迟多少，为什么会出现这个问题" class="header-anchor">#</a> click事件在移动端有延迟，延迟多少，为什么会出现这个问题</h2> <p>在移动端触发时会按照 <code>touchstart，touchmove，touchend，click</code> 顺序触发；触发touchend，click之间会有200-400不等的时间延时（因为移动端需要判断用户是不是想要进行双击，这与双击缩放的方案有关）</p> <h3 id="fastclick-解决点击延迟的原理"><a href="#fastclick-解决点击延迟的原理" class="header-anchor">#</a> fastclick 解决点击延迟的原理</h3> <p>FastClick 在检测到 touchend 事件的时候，会通过 DOM 自定义事件立即触发一个模拟click 事件的click事件（自定义事件），并把浏览器在 300 毫秒之后真正触发的 click 事件阻止掉。</p> <h2 id="h5动画"><a href="#h5动画" class="header-anchor">#</a> H5动画</h2> <h3 id="h5怎么防止手动缩放"><a href="#h5怎么防止手动缩放" class="header-anchor">#</a> H5怎么防止手动缩放</h3> <h3 id="微信h5在微信外打开会显示要在微信内打开，实现原理"><a href="#微信h5在微信外打开会显示要在微信内打开，实现原理" class="header-anchor">#</a> 微信H5在微信外打开会显示要在微信内打开，实现原理</h3> <p>微信内置浏览器的<code>navigatoer.userAgent</code>中包含了<code>MicroMessenger</code>字符串</p> <h2 id="如何识别不同移动端"><a href="#如何识别不同移动端" class="header-anchor">#</a> 如何识别不同移动端</h2> <p>navigator.userAgent</p> <h2 id="加载"><a href="#加载" class="header-anchor">#</a> 加载</h2> <h2 id="渲染性能"><a href="#渲染性能" class="header-anchor">#</a> 渲染性能</h2> <h2 id="移动端如何优化首页白屏时间过长"><a href="#移动端如何优化首页白屏时间过长" class="header-anchor">#</a> 移动端如何优化首页白屏时间过长 ?</h2> <h2 id="元素太多的时候，节流函数对触发滚屏的事件没反应，怎么改善"><a href="#元素太多的时候，节流函数对触发滚屏的事件没反应，怎么改善" class="header-anchor">#</a> 元素太多的时候，节流函数对触发滚屏的事件没反应，怎么改善</h2> <h2 id="h5页面中-消息弹框文字过多会造成什么问题，解决办法是什么"><a href="#h5页面中-消息弹框文字过多会造成什么问题，解决办法是什么" class="header-anchor">#</a> h5页面中 消息弹框文字过多会造成什么问题，解决办法是什么</h2> <h2 id="hybrid"><a href="#hybrid" class="header-anchor">#</a> Hybrid</h2> <p>Hybrid是半Native半Web开发模式，充分利用H5的跨平台、快速迭代能力以及Native的流畅性、系统API调用能力，具有可复用性高、开发成本低、跨平台开发的特点。</p> <p>Native开发一般适用于对体验要求较高的场景，因为它能够给程序员对程序性能最大限度的控制权
Hybrid开发 / 跨平台开发，其实有些交集，优势一方面在于一定的灵活性一方面在效率</p> <h2 id="webview"><a href="#webview" class="header-anchor">#</a> WebView</h2> <p>简单来说WebView是移动端用于加载Web页面的控件。</p> <h3 id="常用api"><a href="#常用api" class="header-anchor">#</a> 常用API</h3> <ul><li><code>getOriginalUrl</code>：获取当前网页的原始url，针对某些执行重定向操作的网页。</li> <li><code>loadData</code>：以字符串形式加载html片段,若包含中文，会乱码，须设置mimeType类型。</li> <li><code>postUrl</code>：以post请求加载url，post携带的数据须是<code>application/x-www-form-urlencoded</code>编码。</li> <li><code>reload</code>：刷新页面，重载资源。</li> <li><code>stopLoading</code>：停止加载。</li> <li><code>pageUp</code>：向上翻页至页面顶部。</li> <li><code>clearCache(includeDiskFiles)</code>：清除缓存，传参<code>false</code>仅清除内存缓存，传参<code>true</code>同时清除内存和磁盘缓存</li> <li><code>clearFormData</code>：清除表单自动填充数据，不含已存储本地的表单数据。</li> <li><code>onPause</code>：尽可能暂停webview行为，如动画、定位，不暂停js脚本执行。<code>onResume</code>恢复被暂停的行为。</li> <li><code>pauseTimers</code>：暂停所有webview全部行为，resumeTimers恢复被pauseTimers暂停的行为。</li> <li><code>destroy</code>：销毁webview，须先从viewGroup中移除webview才有效。</li> <li><code>getContentHight</code>：获取网页内容高度。</li> <li><code>loadUrl</code>：加载远程或本地的url。</li></ul> <h3 id="webviewclient"><a href="#webviewclient" class="header-anchor">#</a> WebViewClient</h3> <p>处理各种通知&amp;请求事件。常用方法如下：</p> <ul><li><code>shouldOverrideUrlLoading()</code>：在本WebView中打开网页，只在重定向和点击网页内链接时触发，且先于<code>onPageStarted()</code>。返回false表示默认由webview加载URL，返回true表示不加载URL，用户自行处理。</li> <li><code>onPageStarted()</code>：载入页面时调用，加载页面、点击链接、返回上一个网页都会触发。</li> <li><code>onLoadResource()</code>：加载页面资源时回调，如每张图片加载都会调用。</li> <li><code>onReceivedSslError()</code>：webview默认不处理https请求，此方法针对https请求做处理。</li> <li><code>onReceivedError()</code>：页面加载异常时会触发，可根据errorCode替换assets目录下预配置的对应加载反馈页面。</li></ul> <h3 id="webchromeclient"><a href="#webchromeclient" class="header-anchor">#</a> WebChromeClient</h3> <p>辅助webview处理:</p> <ul><li>javaScript对话框，</li> <li>加载进度，<code>onProgressChanged(WebView view, int newProgress)</code></li> <li>网站图标，</li> <li>网站标题,<code>onReceivedTitle(WebView view, String title)</code></li></ul> <h3 id="websettings"><a href="#websettings" class="header-anchor">#</a> WebSettings</h3> <ul><li><code>setJavaScriptEnabled(true)</code>:设置允许执行javaScript脚本，默认false.</li> <li><code>setSupportZoom(true)</code>:设置是否支持缩放，默认true.</li> <li><code>setBlockNetworkImage(false)</code>:把图片加载放在最后来加载渲染.</li> <li><code>setAllowFileAccess(true)</code>:设置可以访问文件.</li> <li><code>setLayoutAlgorithm(WebSettings.LayoutAlgorithm.SINGLE_COLUMN)</code>:支持内容重新布局.</li> <li><code>setUseWideViewPort(true)</code>:扩大比例的缩放.</li> <li><code>setLoadWithOverviewMode(true)</code>:自适应屏幕，配合<code>setUseWideViewPort</code>一起使用.</li> <li><code>setLoadsImagesAutomatically(true)</code>:是否下载图片资源，默认true.</li> <li><code>setCacheMode</code>：设置浏览器缓存模式：
<ul><li><code>LOAD_DEFAULT</code>：默认值。当存在缓存且未过期时加载缓存数据，否则通过网络加载数据。</li> <li><code>LOAD_NO_CACHE</code>：不使用缓存。仅通过网络加载数据。</li> <li><code>LOAD_CACHE_ONLY</code>：只使用缓存。仅加载缓存数据，不通过网络加载数据。</li> <li><code>LOAD_CACHE_ELSE_NETWORK</code>：只要有缓存，是否过期都加载缓存，否则加载网络数据。</li></ul></li></ul> <h2 id="如何与native进行数据交互，jsbridge实现原理"><a href="#如何与native进行数据交互，jsbridge实现原理" class="header-anchor">#</a> 如何与native进行数据交互，jsbridge实现原理</h2> <p>JSBridge是一种桥接器，通过JS引擎或Webview容器为媒介，约定协议进行通信，实现Native端和Web端双向通信的一种机制。</p> <ul><li>将Native端的接口封装成js接口</li> <li>将Web端js接口封装成原生接口</li></ul> <p><img src="/img/7410974-375b3ca9effba889.webp.jpg" alt=""></p> <h3 id="javascript调用native方式"><a href="#javascript调用native方式" class="header-anchor">#</a> javascript调用native方式⭐️</h3> <ul><li><p>通过schema方式，使用<code>shouldOverrideUrlLoading</code>方法对url协议进行解析。这种js的调用方式与ios的一样，使用iframe来调用native代码。</p></li> <li><p>通过在webview页面里直接注入原生js代码方式，使用<code>addJavascriptInterface</code>方法来实现。</p> <p>在android里实现如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">JSInterface</span> <span class="token punctuation">{</span>
	@JavascriptInterface <span class="token comment">//注意这个代码一定要加上</span>
	<span class="token keyword">public</span> String <span class="token function">getUserData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;UserData&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
webView<span class="token punctuation">.</span><span class="token function">addJavascriptInterface</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">JSInterface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;AndroidJS&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面的代码就是在页面的window对象里注入了AndroidJS对象。在js里可以直接调用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span>AndroidJS<span class="token punctuation">.</span><span class="token function">getUserData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//UserDate</span>
</code></pre></div></li> <li><p>使用<code>prompt</code>,<code>console.log</code>,<code>alert</code>方式，这三个方法对js里是属性原生的，在android <code>webview</code>这一层是可以重写这三个方法的。一般使用<code>prompt</code>，因为这个在js里使用的不多，用来和native通讯副作用比较少。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">subWebChromeClient</span> <span class="token keyword">extends</span> <span class="token class-name">WebChromeClient</span> <span class="token punctuation">{</span>
	@Override
	<span class="token keyword">public</span> boolean <span class="token function">onJsPrompt</span><span class="token punctuation">(</span><span class="token parameter">WebView view<span class="token punctuation">,</span> String url<span class="token punctuation">,</span> String message<span class="token punctuation">,</span> String defaultValue<span class="token punctuation">,</span> JsPromptResult result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 这里就可以对js的prompt进行处理，通过result返回结果</span>
	<span class="token punctuation">}</span>
	@Override
	<span class="token keyword">public</span> boolean <span class="token function">onConsoleMessage</span><span class="token punctuation">(</span><span class="token parameter">ConsoleMessage consoleMessage</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>
	@Override
	<span class="token keyword">public</span> boolean <span class="token function">onJsAlert</span><span class="token punctuation">(</span><span class="token parameter">WebView view<span class="token punctuation">,</span> String url<span class="token punctuation">,</span> String message<span class="token punctuation">,</span> JsResult result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>

<span class="token punctuation">}</span> 
</code></pre></div></li> <li><p>WebView提供的<code>evaluateJavascript()</code>方法运行JS代码</p></li> <li><p>IOS 版本</p> <p>Javascript调用Native，并没有现成的API可以直接拿来用，而是需要间接地通过一些方法来实现。</p> <p>UIWebView有个特性：在UIWebView内发起的所有网络请求，都可以通过<code>delegate</code>函数在Native层得到通知。这样，我们就可以在UIWebView内发起一个自定义的网络请求，通常是这样的格式：<code>jsbridge://methodName?param1=value1&amp;param2=value2</code></p> <p>于是在UIWebView的delegate函数中，我们只要发现是<code>jsbridge://</code>开头的地址，就不进行内容的加载，转而执行相应的调用逻辑。</p> <p>发起这样一个网络请求有两种方式：</p> <ol><li>通过localtion.href；</li> <li>通过iframe方式；</li></ol> <p>通过location.href有个问题，就是如果我们连续多次修改window.location.href的值，在Native层只能接收到最后一次请求，前面的请求都会被忽略掉。</p> <p>使用iframe方式，以唤起Native APP的分享组件为例</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">'jsbridge://doAction?title=分享标题&amp;desc=分享描述&amp;link=http%3A%2F%2Fwww.baidu.com'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> iframe <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'iframe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
iframe<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'1px'</span><span class="token punctuation">;</span>
iframe<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'1px'</span><span class="token punctuation">;</span>
iframe<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
iframe<span class="token punctuation">.</span>src <span class="token operator">=</span> url<span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>iframe<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	iframe<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>然后Webview就可以拦截这个请求，并且解析出相应的方法和参数。如下代码所示：</p> <div class="language-js extra-class"><pre class="language-js"><code>func <span class="token function">webView</span><span class="token punctuation">(</span>webView<span class="token operator">:</span> UIWebView<span class="token punctuation">,</span> shouldStartLoadWithRequest request<span class="token operator">:</span> NSURLRequest<span class="token punctuation">,</span> navigationType<span class="token operator">:</span> UIWebViewNavigationType<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Bool <span class="token punctuation">{</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;shouldStartLoadWithRequest&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> url <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token constant">URL</span>
    <span class="token keyword">let</span> scheme <span class="token operator">=</span> url<span class="token operator">?.</span>scheme
    <span class="token keyword">let</span> method <span class="token operator">=</span> url<span class="token operator">?.</span>host
    <span class="token keyword">let</span> query <span class="token operator">=</span> url<span class="token operator">?.</span>query
    
    <span class="token keyword">if</span> url <span class="token operator">!=</span> nil <span class="token operator">&amp;&amp;</span> scheme <span class="token operator">==</span> <span class="token string">&quot;jsbridge&quot;</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;scheme == \(scheme)&quot;</span><span class="token punctuation">)</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;method == \(method)&quot;</span><span class="token punctuation">)</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;query == \(query)&quot;</span><span class="token punctuation">)</span>

        <span class="token keyword">switch</span> method<span class="token operator">!</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token string">&quot;getData&quot;</span><span class="token operator">:</span>
                self<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">case</span> <span class="token string">&quot;putData&quot;</span><span class="token operator">:</span>
                self<span class="token punctuation">.</span><span class="token function">putData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">case</span> <span class="token string">&quot;gotoWebview&quot;</span><span class="token operator">:</span>
                self<span class="token punctuation">.</span><span class="token function">gotoWebview</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">case</span> <span class="token string">&quot;gotoNative&quot;</span><span class="token operator">:</span>
                self<span class="token punctuation">.</span><span class="token function">gotoNative</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">case</span> <span class="token string">&quot;doAction&quot;</span><span class="token operator">:</span>
                self<span class="token punctuation">.</span><span class="token function">doAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">case</span> <span class="token string">&quot;configNative&quot;</span><span class="token operator">:</span>
                self<span class="token punctuation">.</span><span class="token function">configNative</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <div class="custom-block tip"><p class="custom-block-title">PS</p> <p><code>window.prompt</code>, 显示一个对话框，对话框中包含一条文字信息，用来提示用户输入文字。</p> <p><code>result = window.prompt(text, value);</code></p> <ul><li>result 用来存储用户输入文字的字符串，或者是 null。</li> <li>text 用来提示用户输入文字的字符串，如果没有任何提示内容，该参数可以省略不写。</li> <li>value 文本输入框中的默认值，该参数也可以省略不写。不过在 IE7 和 IE8 中，省略该参数会导致输入框中显示默认值&quot;undefined&quot;。</li></ul></div> <h3 id="native调用javascript方式"><a href="#native调用javascript方式" class="header-anchor">#</a> Native调用javascript方式</h3> <p>在android里是使用webview的loadUrl进行调用的，如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 调用js中的JSBridge.trigger方法</span>
webView<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span><span class="token string">&quot;javascript:JSBridge.trigger('webviewReady')&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在IOS，通过UIWebView组件的<code>stringByEvaluatingJavaScriptFromString</code>方法来实现的，该方法返回js脚本的执行结果。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Swift</span>
webview<span class="token punctuation">.</span><span class="token function">stringByEvaluatingJavaScriptFromString</span><span class="token punctuation">(</span><span class="token string">&quot;Math.random()&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// Objective-C</span>
<span class="token punctuation">[</span>webView stringByEvaluatingJavaScriptFromString<span class="token operator">:</span>@<span class="token string">&quot;Math.random();&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>可以看出它其实就是调用了window下的一个对象</p> <h3 id="ios-uiwebview"><a href="#ios-uiwebview" class="header-anchor">#</a> IOS UIWebView</h3> <p>原生的UIWebView类提供了下面方法</p> <ul><li><code>loadData</code>：Sets the main page contents, MIME type, content encoding, and base URL.</li> <li><code>loadRequest</code>：加载网络内容</li> <li><code>loadHTMLString</code>：加载本地HTML文件</li> <li><code>stopLoading</code>：停止加载</li> <li><code>goBack</code>：后退</li> <li><code>goForward</code>：前进</li> <li><code>reload</code>：重新加载</li> <li><code>stringByEvaluatingJavaScriptFromString</code>：执行一段js脚本，并且返回执行结果</li></ul> <h2 id="移动端如何实现下拉到底部跟随移动-结束后回弹的动画"><a href="#移动端如何实现下拉到底部跟随移动-结束后回弹的动画" class="header-anchor">#</a> 移动端如何实现下拉到底部跟随移动,结束后回弹的动画?⭐️</h2> <p><img src="/img/3478683074-5c37ff2d79d48_fix732.jpg" alt="滑动示意图"></p> <p><strong>限制滑动区间，向上滑动和向下滑动不能没有限制</strong> <img src="/img/1320041135-5c37ff2d13429_fix732.jpg" alt="限制滑动区间"></p> <p>设定向下最大区间的值比较简单，直接设定一个值，当上一次滑动的距离加上本次滑动的距离大于这个值的时候，就不让它再继续往下滑了，让它直接等于这个设定的值。</p> <p><strong>设定反弹区间</strong></p> <p>在<code>touchend</code>事件里做判断。我们设定一个反弹区间，就是当滑动距离的值大于或者小于某个值的时候，让它触发反弹。
<img src="/img/1329057332-5c37ff2ce6f2d_fix732.jpg" alt="向上反弹"></p> <blockquote><p>此时是下滑</p></blockquote> <p><img src="/img/2199699401-5c37ff2ce6fa4_fix732.jpg" alt="向下反弹"></p> <blockquote><p>此时是上滑</p></blockquote> <p>给列表添加<code>transition</code>属性才会有反弹的效果</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>移动端 Touch 滑动反弹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aside</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>draw<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>draw<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span>orange</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>列表一<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span>yellowgreen</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>列表二<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span>yellow</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>列表三<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span>cyan</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>列表四<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span>orangered</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>列表五<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span>pink</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>列表六<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span>red</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>列表七<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span>purple</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>列表八<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span>violet</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>列表九<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span>brown</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>列表十<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aside</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* 样式初始化 */</span>
<span class="token selector">*</span> <span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">html,
body</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token comment">/*定义其所处内容之外的内容。如侧栏、文章的一组链接、广告、友情链接、相关产品列表等。*/</span>
<span class="token selector">aside</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 列表的父盒子，限制宽高 */</span>
<span class="token comment">/* 注意设置overflow: hidden;样式后，超出这个盒子的ul将不会显示 */</span>
<span class="token selector">.draw</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 2px solid #ccc<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* li 设置了浮动， 所以 ul 要清除浮动 */</span>
<span class="token selector">ul:after</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*设置或检索对象的缩放比例，触发IE浏览器的haslayout属性，解决浮动，margin重叠等一些问题。*/</span>
<span class="token selector">ul</span> <span class="token punctuation">{</span>
    <span class="token property">zoom</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">li</span> <span class="token punctuation">{</span>
    <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> draw <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#draw'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> ul <span class="token operator">=</span> draw<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> startY <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 刚触碰到屏幕时的手指信息</span>
<span class="token keyword">var</span> centerY <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 用来记录每次触摸时上一次的偏移距离</span>
<span class="token keyword">var</span> maxDown <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span> <span class="token comment">// 设定一个最大向下滑动的距离</span>
<span class="token keyword">var</span> maxUp <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span>ul<span class="token punctuation">.</span>offsetHeight <span class="token operator">-</span> draw<span class="token punctuation">.</span>offsetHeight <span class="token operator">+</span> maxDown<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 求得一个最大向上滑动的距离</span>
<span class="token keyword">var</span> maxUpBounce <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 向上反弹值</span>
<span class="token keyword">var</span> maxDownBounce <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span>ul<span class="token punctuation">.</span>offsetHeight <span class="token operator">-</span> draw<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 向下反弹值</span>

<span class="token comment">// touchstart 时，记录手指在 Y 轴上的落点距离可视顶部距离</span>
 ul<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchstart'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    startY <span class="token operator">=</span> e<span class="token punctuation">.</span>changedTouches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>clientY<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// touchmove 时，记录此时手指在 Y 轴上的落点距离可视顶部距离</span>
ul<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchmove'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 清除过渡</span>
    ul<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
    <span class="token comment">// 获取差值</span>
    <span class="token keyword">var</span> dy <span class="token operator">=</span> e<span class="token punctuation">.</span>changedTouches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>clientY <span class="token operator">-</span> startY<span class="token punctuation">;</span>

    <span class="token comment">// 上次的滑动距离加上本次的滑动距离</span>
    <span class="token keyword">var</span> tempY <span class="token operator">=</span> centerY <span class="token operator">+</span> dy<span class="token punctuation">;</span>

    <span class="token comment">// 当上次滑动的距离加上本次滑动的距离 大于 设定的最大向下距离的时候</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tempY <span class="token operator">&gt;</span> maxDown<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      tempY <span class="token operator">=</span> maxDown<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 当上次滑动的距离加上本次滑动的距离 小于 设定的最大向上距离的时候 </span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>tempY <span class="token operator">&lt;</span> maxUp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      tempY <span class="token operator">=</span> maxUp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 设置 ul 在 Y 轴上的偏移</span>
    ul<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">'translateY('</span> <span class="token operator">+</span> tempY <span class="token operator">+</span> <span class="token string">'px)'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// touchend 时，记录此时手指在 Y 轴上的落点距离可视顶部距离</span>
ul<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchend'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取差值</span>
    <span class="token keyword">var</span> dy <span class="token operator">=</span> e<span class="token punctuation">.</span>changedTouches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>clientY <span class="token operator">-</span> startY<span class="token punctuation">;</span>
    <span class="token comment">// 记录移动的距离</span>
    centerY <span class="token operator">=</span> centerY <span class="token operator">+</span> dy<span class="token punctuation">;</span>

    <span class="token comment">// 两次滑动的距离 大于 设定的 向上 反弹值时</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>centerY <span class="token operator">&gt;</span> maxUpBounce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 让两次滑动的距离 等于 设置的值</span>
    centerY <span class="token operator">=</span> maxUpBounce<span class="token punctuation">;</span>
    <span class="token comment">// 添加过渡</span>
    ul<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'transform .5s'</span><span class="token punctuation">;</span>
    ul<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">'translateY('</span> <span class="token operator">+</span> centerY <span class="token operator">+</span> <span class="token string">'px)'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 两次滑动的距离 小于 设定的 向下 反弹值时</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>centerY <span class="token operator">&lt;</span> maxDownBounce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 让两次滑动的距离 等于 设置的值</span>
    centerY <span class="token operator">=</span> maxDownBounce<span class="token punctuation">;</span>
    <span class="token comment">// 添加过渡</span>
    ul<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'transform .5s'</span><span class="token punctuation">;</span>
    ul<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">'translateY('</span> <span class="token operator">+</span> centerY <span class="token operator">+</span> <span class="token string">'px)'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="touch-事件"><a href="#touch-事件" class="header-anchor">#</a> touch 事件</h3> <ul><li>touchStart, 当手指触碰到屏幕的时候触发</li> <li>touchmove, 当手指在屏幕上不断移动的时候触发</li> <li>touchend, 当手指离开屏幕的时候触发</li></ul> <p>changedTouches、targetTouches、touches:</p> <p>这三种返回的<code>TouchList</code>对象列出了和触摸事件对应的 <code>Touch</code> 对象。，都是表示用户触摸事件时的手指信息。而它们唯一的区别就是在<code>touchstart</code>和<code>touchmove</code>事件的时候，<code>changedTouches</code>、<code>targetTouches</code>、<code>touches</code>都能获取到手指的信息，但是在<code>touchend</code>事件的时候，<code>targetTouches</code>、<code>touches</code>对象是不能返回离开屏幕时的手指信息，只有<code>changedTouches</code>对象能返回。</p> <p>PS: <code>TouchList</code> 接口代表一个触摸平面上所有触点的列表。例如，如果一个用户用三根手指接触屏幕（或者触控板），与之对应的 <code>TouchList</code> 会包含每根手指的 <code>Touch</code> 对象，总共三个。</p> <h3 id="touch-对象"><a href="#touch-对象" class="header-anchor">#</a> touch 对象</h3> <p>Touch 对象表示在触控设备上的触摸点</p> <ul><li><p>Touch.identifier只读</p> <p>此 Touch 对象的唯一标识符。 一次触摸动作(例如手指触摸)在平面上移动的整个过程中, 该标识符不变。可以根据它来判断跟踪的是否是同一次触摸过程。</p></li> <li><p>Touch.screenX只读</p> <p>触点相对于屏幕左边缘的X坐标。</p></li> <li><p>Touch.screenY只读</p> <p>触点相对于屏幕上边缘的Y坐标。</p></li> <li><p>Touch.clientX只读</p> <p>触点相对于可见视区(visual viewport)左边缘的X坐标。不包括任何滚动偏移。</p></li> <li><p>Touch.clientY只读</p> <p>触点相对于可见视区(visual viewport)上边缘的Y坐标。不包括任何滚动偏移。</p></li> <li><p>Touch.pageX只读</p> <p>触点相对于HTML文档左边缘的X坐标。当存在水平滚动的偏移时, 这个值包含了水平滚动的偏移。</p></li> <li><p>Touch.pageY只读</p> <p>触点相对于HTML文档上边缘的Y坐标。当存在垂直滚动的偏移时, 这个值包含了垂直滚动的偏移。</p></li> <li><p>Touch.target只读</p> <p>返回触摸点最初接触的 Element，即使这个触摸点已经移出那个元素的交互区域。需要注意的是, 如果这个元素在触摸过程中被移除, 这个事件仍然会指向它, 因此这个事件也不会冒泡到 window 或 document 对象。因此, 如果有元素在触摸过程中可能被移除, 最佳实践是将触摸事件的监听器绑定到这个元素本身, 防止元素被移除后, 无法再从它的上一级元素上侦测到从该元素冒泡的事件。</p></li></ul> <h2 id="手写监听页面刷新"><a href="#手写监听页面刷新" class="header-anchor">#</a> 手写监听页面刷新</h2> <p>当浏览器窗口关闭或者刷新时，会触发<code>beforeunload</code>事件。</p> <p>事件使网页能够触发一个确认对话框，询问用户是否真的要离开该页面。如果用户确认，浏览器将导航到新页面，否则导航将会取消。</p> <p>根据规范，要显示确认对话框，事件处理程序需要在事件上调用<code>preventDefault()</code>。</p> <p>页面关闭时，先执行 <code>onbeforeunload</code> 事件，再 <code>onunload</code> 事件。
页面刷新时先执行 <code>onbeforeunload</code>事件，然后 <code>onunload</code> 事件，最后 <code>onload</code> 事件。</p> <h2 id="判断竖屏横屏"><a href="#判断竖屏横屏" class="header-anchor">#</a> 判断竖屏横屏</h2> <ul><li><p>Screen.orientation</p></li> <li><p>window.orientation,移动端浏览器支持</p></li> <li><p>媒体查询</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">orientation</span><span class="token punctuation">:</span> portrait <span class="token punctuation">)</span></span><span class="token punctuation">{</span>
<span class="token comment">/*竖屏CSS */</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span> <span class="token property">orientation</span><span class="token punctuation">:</span> landscape <span class="token punctuation">)</span></span><span class="token punctuation">{</span>
<span class="token comment">/*横屏CSS */</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h2 id="图片放大镜功能怎么做的"><a href="#图片放大镜功能怎么做的" class="header-anchor">#</a> 图片放大镜功能怎么做的</h2> <ol><li><p>有2个图片（大图、小图），图片之间都有很好尺寸比例</p></li> <li><p>鼠标移入小图这里事件采用onmousemove事件，移入后显示阴影部分以及右侧大图（设置溢出隐藏）</p></li> <li><p>当鼠标移出则隐藏阴影部分以及右侧大图</p></li> <li><p>鼠标在小图移动，阴影部分跟随采用clientX和clientY的位移</p></li> <li><p>鼠标在小图部分左边移动，大图向右，刚好相反并且*其比例尺寸就是大图要移动的位置</p></li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>放大镜<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>small<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://c-ssl.duitang.com/uploads/blog/202103/02/20210302114343_08dd2.thumb.300_300_c.jpeg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>move<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>big<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://c-ssl.duitang.com/uploads/blog/202103/02/20210302114343_08dd2.thumb.1000_0.jpeg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>big_img<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">*</span><span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
     <span class="token property">padding</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">body</span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 960px<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span>40px auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#small</span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span>1px solid #eee<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">#small img</span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">div</span><span class="token punctuation">{</span>
	<span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
    <span class="token property">margin-right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">#big</span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span>1px solid #eee<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">#big_img</span><span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span>0px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">#move</span><span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span>#000<span class="token punctuation">;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> .5<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> move <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'move'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token keyword">var</span> small <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'small'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> big <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'big'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> big_img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'big_img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
small<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    event <span class="token operator">=</span> event <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>cursor <span class="token operator">=</span> <span class="token string">'move'</span><span class="token punctuation">;</span>
    <span class="token comment">// 计算move移动块的left值</span>
    <span class="token keyword">var</span> move_left <span class="token operator">=</span> event<span class="token punctuation">.</span>clientX <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetLeft <span class="token operator">-</span> move<span class="token punctuation">.</span>offsetWidth<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token comment">// 计算move移动块的top值</span>
    <span class="token keyword">var</span> move_top <span class="token operator">=</span> event<span class="token punctuation">.</span>clientY <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetTop <span class="token operator">-</span> move<span class="token punctuation">.</span>offsetHeight<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token comment">// 超出左边界赋值为0</span>
    move_left <span class="token operator">=</span> move_left <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> move_left<span class="token punctuation">;</span>
    <span class="token comment">// 超出右边界赋值为盒子宽度-移动块的宽度</span>
     move_left <span class="token operator">=</span> move_left <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> move<span class="token punctuation">.</span>offsetWidth <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> move<span class="token punctuation">.</span>offsetWidth <span class="token operator">:</span> move_left<span class="token punctuation">;</span>
    <span class="token comment">// 超出上边界赋值为0</span>
    move_top <span class="token operator">=</span> move_top <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> move_top<span class="token punctuation">;</span>
    <span class="token comment">// 超出下边界赋值为盒子高度-移动块高度</span>
    move_top <span class="token operator">=</span> move_top <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetHeight <span class="token operator">-</span> move<span class="token punctuation">.</span>offsetHeight <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetHeight <span class="token operator">-</span> move<span class="token punctuation">.</span>offsetHeight <span class="token operator">:</span> move_top<span class="token punctuation">;</span>
    <span class="token comment">// 修改移动块left、top值</span>
    move<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> move_left <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    move<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> move_top <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    <span class="token comment">/*
        计算图片需要移动的坐标
        距离左边left    图片宽度      盒子宽度          距离左边left    图片宽度           盒子宽度
        big_x/(big_img.offsetWidth-big.offsetWidth) = move_left/(small.offsetWidth-move.offsetWidth);
        big_y/(big_img.offsetHeight-big.offsetHeight) = move_top/(small.offsetHeight-move.offsetHeight);

    */</span>
	<span class="token comment">// 按比例</span>
    <span class="token keyword">var</span> big_x <span class="token operator">=</span> move_left<span class="token operator">/</span><span class="token punctuation">(</span>small<span class="token punctuation">.</span>offsetWidth<span class="token operator">-</span>move<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>big_img<span class="token punctuation">.</span>offsetWidth<span class="token operator">-</span>big<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> big_y <span class="token operator">=</span> move_top<span class="token operator">/</span><span class="token punctuation">(</span>small<span class="token punctuation">.</span>offsetHeight<span class="token operator">-</span>move<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>big_img<span class="token punctuation">.</span>offsetHeight<span class="token operator">-</span>big<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 修改图片定位</span>
    big_img<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token operator">-</span>big_x <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    big_img<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token operator">-</span>big_y <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

small<span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    move<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
    big<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

small<span class="token punctuation">.</span><span class="token function-variable function">onmouseout</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    move<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
    big<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="安卓和ios的区别"><a href="#安卓和ios的区别" class="header-anchor">#</a> 安卓和ios的区别</h2> <ol><li><p>两者运行机制不同：IOS采用的是沙盒运行机制，安卓采用的是虚拟机运行机制。</p></li> <li><p>两者后台制度不同：IOS中任何第三方程序都不能在后台运行；安卓中任何程序都能在后台运行，直到没有内存才会关闭。</p></li></ol> <p>沙盒机制：出于安全考虑，iPhone对于安装在上面的应用程序有所限制，这个限制就是应用程序只能在为该改程序创建的文件系统中读取文件，不可以去其它地方访问，此区域被成为沙盒</p> <p>虚拟机机制：所有的应用都是运行在一个虚拟的环境中，由底层传输数据到虚拟机中，再由虚拟机传递给用户 UI，任何程序都就可以轻松访问其他程序文件。</p> <h2 id="pc端开发和移动端开发的区别？"><a href="#pc端开发和移动端开发的区别？" class="header-anchor">#</a> pc端开发和移动端开发的区别？</h2> <h2 id="serverless"><a href="#serverless" class="header-anchor">#</a> serverless</h2></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontend/mobile/" class="prev router-link-active">
        首页
      </a></span> <span class="next"><a href="/frontend/mobile/pwa.html">
        PWA
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.484f4375.js" defer></script><script src="/assets/js/2.ebbe98b4.js" defer></script><script src="/assets/js/86.dff86ecd.js" defer></script>
  </body>
</html>
